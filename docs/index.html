<!doctype html>
<meta charset="utf-8" />

<title>&lt;keydown-input&gt;/&lt;keyup-input&gt; examples</title>

<style>
  code {
    background-color: #ddd;
    padding: 3px;
  }

  h2 {
    border-bottom: #999;
  }
</style>

<script type="module">
  import * as ki from "./js/key-input-registerer.js";
  ki.register();
</script>

<h1>Custom element: <code>key-input</code></h1>

<p>Custom elements to input key press events.</p>

<p>
  See
  <a
    href="https://github.com/kui/key-input-elements/blob/master/docs/index.html"
    >this HTML source</a
  >
</p>

<h2>Simple Usages</h2>

<ul>
  <li>
    <label>Simple: <input is="key-input" /></label>
  </li>
  <li>
    <label>
      <code>allow-mod-only</code> attribute: Permit keys which is pressed with a
      modifire key
      <br />
      <input is="key-input" allow-mod-only />
    </label>
  </li>
  <li>
    <label>
      <code>strip-mod</code> attribute: Strip modifire keys
      <br />
      <input is="key-input" strip-mod />
    </label>
  </li>
  <li>
    <label>
      <code>strip-mod</code> and <code>allow-mod-only</code>:
      <br />
      <input is="key-input" strip-mod allow-mod-only />
    </label>
  </li>
  <li>
    <label>
      <code>ignore</code> attribute: Ignore provided pattern. This example
      ignores <code>Tab</code> and <code>KeyA</code>.
      <br />
      <input is="key-input" ignore="( |^)(Tab|KeyA)$" />
    </label>
  </li>
  <li>
    <label>
      <code>multiple</code> attribute: Allow multiple keys
      <br />
      <input is="key-input" multiple allow-mod-only strip-mod />
    </label>
  </li>
</ul>

<h2>Matching <code>Event</code></h2>

<p>
  <code>key-input</code> element has a method generates a matcher for
  <code>KeyBoardEvent</code>
</p>

<ul>
  <li>
    <label>
      Display <code>true</code> if you input <code>Shift + KeyD</code> or else
      display <code>false</code>: <input id="display" />
    </label>
  </li>
</ul>

<script type="module">
  import { EventMatcher } from "./js/event-matcher.js";
  window.addEventListener("load", () => {
    console.log("Setting up 'matching event' example");

    // grab all inputs on id="result-display"
    display.addEventListener("keypress", (e) => e.preventDefault());

    const eventMatcher = EventMatcher.parse("Shift+KeyD");
    display.addEventListener(
      "keydown",
      (e) => (display.value = eventMatcher.test(e)),
    );
  });
</script>
